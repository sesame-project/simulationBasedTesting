rule test2Class transform test: Testing!Test {
	template : "ros/rosMain.egl"
	target : "src/" + test.name.firstToUpperCase() + "_TestRunner.java"
}

rule packetLoss2FlatMap transform fuzzOp: Testing!PacketLossNetworkOperation {
	guard : fuzzOp.containingTest != null
	template : "fuzzingoperations/packetLoss.egl"
	target : "src/PacketLossFlatMap_" + attack.containingTest.name.firstToUpperCase() + ".java"	
}

rule blackHole2FlatMap transform fuzzOp: Testing!BlackholeNetworkOperation {
	guard : fuzzOp.containingTest != null
	template : "fuzzingoperations/blackHole.egl"
	target : "src/BlackHoleFlatMap_" + attack.containingTest.name.firstToUpperCase() + ".java"	
}

rule fuzzRange2FlatMap transform fuzzOp: Testing!RandomValueFromSetOperation {
	guard : fuzzOp.containingTest != null
	template : "fuzzingoperations/fuzzRange.egl"
	target : "src/"+ fuzzOp.name + "FlatMap_" + fuzzOp.containingTest.name.firstToUpperCase() + ".java"
}

rule rangeClass transform testCampaign: Testing!TestCampaign {
	guard : Testing!DoubleRange.all().notEmpty()
	template : "datatypes/doubleRange.egl"
	target : "src/datatypes/DoubleRange.java"
}

rule genGrammar transform testCampaign: Testing!TestCampaign {
	template : "grammar/generateGrammar.egl"
	target : "grammar/sesame-standardgrammar-" + testCampaign.name + ".bnf"
}